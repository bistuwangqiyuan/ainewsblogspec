---
const { page, pageSize, total } = Astro.props as { page: number; pageSize: number; total: number };
const totalPages = Math.max(1, Math.ceil(total / pageSize));
function buildUrl(target: number) {
    const url = new URL(Astro.url);
    url.searchParams.set('page', String(target));
    return url.pathname + url.search;
}
---

<nav class="flex items-center gap-2 mt-4">
    <a class="btn btn-sm" href={buildUrl(Math.max(1, page - 1))} aria-disabled={page <= 1}>上一页</a>
    <span class="opacity-70">{page} / {totalPages}</span>
    <a class="btn btn-sm" href={buildUrl(Math.min(totalPages, page + 1))} aria-disabled={page >= totalPages}>下一页</a>
</nav>
